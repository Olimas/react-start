{"version":3,"sources":["hoc/withAuthRedirect.js","assets/images/user.png","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Content/Profile/ProfileInfo/ProfileInfo.module.css","components/Content/Profile/My posts/MyPosts.module.css","components/Content/Profile/My posts/Post/Post.module.css","components/Content/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Content/Profile/ProfileInfo/ProfileInfo.jsx","components/Content/Profile/My posts/Post/Post.jsx","components/Content/Profile/My posts/MyPosts.jsx","components/Content/Profile/My posts/MyPostsContainer.jsx","components/Content/Profile/Profile.jsx","components/Content/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","profileStatus","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","profileContainer","profileLogo","src","photos","large","userPhoto","alt","profileContacts","facebook","contacts","website","vk","twitter","instagram","youtube","github","mainLink","profileDescription","aboutMe","lookingForAJobDescription","fullName","Preloader","Post","post","postColumn","postImg","likesCount","postLike","postDescription","postMessage","message","MyPosts","memo","postsElements","posts","reverse","map","p","id","createPost","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","descriptionPost","placeholder","name","component","Textarea","validate","required","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","prevProps","prevState","snapshot","setState","compose","withRouter"],"mappings":"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","file":"static/js/3.23973508.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\"/>\r\n\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/user.f5bbe167.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__3BZsy\",\"profileContainer\":\"ProfileInfo_profileContainer__2kObE\",\"profileImg\":\"ProfileInfo_profileImg__cGAI5\",\"profileContacts\":\"ProfileInfo_profileContacts__1lQrL\",\"profileLogo\":\"ProfileInfo_profileLogo__12THs\",\"profileDescription\":\"ProfileInfo_profileDescription__11enA\",\"profileStatus\":\"ProfileInfo_profileStatus__1h9TX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1Ljvi\",\"createPost\":\"MyPosts_createPost__20Cg1\",\"descriptionPost\":\"MyPosts_descriptionPost__3IK_F\",\"addPost\":\"MyPosts_addPost__1tV5G\",\"removePost\":\"MyPosts_removePost__2VKOU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3f7iu\",\"postColumn\":\"Post_postColumn__1DoSo\",\"postImg\":\"Post_postImg__46KAZ\",\"postTitle\":\"Post_postTitle__2cmCB\",\"postDescription\":\"Post_postDescription__Ck5O2\",\"postMessage\":\"Post_postMessage__lR3rR\",\"postLike\":\"Post_postLike__cMRti\"};","//TODO: Ошибка при обновлении статуса.\r\n// Описание: когда пишем новый статус в input и сохраняем его, то\r\n// в setStatus передается {Object object}, а должна строка,\r\n// но после перезагрузки страницы статус обновляется и меняется на строку\r\n\r\nimport React, {useEffect, useState} from \"react\";\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n  //* Hook useState\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  //* Hook useEffect\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  return (\r\n    <div className={s.profileStatus}>\r\n      {!editMode && <div>\r\n        <span onDoubleClick={activateEditMode}>{props.status || \"status not added\"}</span>\r\n      </div>}\r\n      {editMode && <div>\r\n        <input value={status} onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true}></input>\r\n      </div>}\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n\r\n","import s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/preloader/Preloader\";\r\nimport userPhoto from '../../../../assets/images/user.png'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n  return (\r\n    <div className={s.profile}>\r\n      <div className={s.profileContainer}>\r\n        <div className={s.profileLogo}>\r\n          <img src={props.profile.photos.large ? props.profile.photos.large : userPhoto} alt=\"user not added image\"/>\r\n          <div className={s.profileContacts}>\r\n            <h3>Contacts:</h3>\r\n            <h4>Facebook: <span>{props.profile.facebook ? props.profile.facebook : \"not added\"}</span></h4>\r\n            <h4>Website: <span>{props.profile.contacts.website ? props.profile.contacts.website : \"not added\"}</span>\r\n            </h4>\r\n            <h4>Vk: <span>{props.profile.contacts.vk ? props.profile.contacts.vk : \"not added\"}</span></h4>\r\n            <h4>Twitter: <span>{props.profile.contacts.twitter ? props.profile.contacts.twitter : \"not added\"}</span>\r\n            </h4>\r\n            <h4>Instagram: <span>{props.profile.contacts.instagram ? props.profile.contacts.instagram : \"not added\"}</span>\r\n            </h4>\r\n            <h4>YouTube: <span>{props.profile.contacts.youtube ? props.profile.contacts.youtube : \"not added\"}</span>\r\n            </h4>\r\n            <h4>Github: <span>{props.profile.contacts.github ? props.profile.contacts.github : \"not added\"}</span></h4>\r\n            <h4>MainLink: <span>{props.profile.contacts.mainLink ? props.profile.contacts.mainLink : \"not added\"}</span>\r\n            </h4>\r\n          </div>\r\n        </div>\r\n        <div className={s.profileDescription}>\r\n          <h2>Profile description</h2>\r\n\r\n          <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n\r\n          <h3>AboutMe: <span>{props.profile.aboutMe ? props.profile.aboutMe : \"not added\"}</span></h3>\r\n\r\n          <h3>LookingForAJob: <span>{props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : \"not added\"}</span>\r\n          </h3>\r\n          <h3>FullName: <span>{props.profile.fullName ? props.profile.fullName : \"not added\"}</span></h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProfileInfo;\r\n","import s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.post}>\r\n      <div className={s.postColumn}>\r\n        <div className={s.postImg}>\r\n          <img src=\"https://www.searchpng.com/wp-content/uploads/2019/02/Profile-PNG-Icon.png\" alt=\"profile\"/>\r\n          <span>Likes: {props.likesCount}</span>\r\n        </div>\r\n        <div className={s.postLike}>\r\n          <span> Like</span>\r\n        </div>\r\n      </div>\r\n      <div className={s.postColumn}>\r\n        <div className={s.postDescription}>\r\n          <p className={s.postMessage}>{props.message}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../../utils/validators/validators\";\nimport {Textarea} from \"../../../common/formsControls/FormControls\";\n\nconst MyPosts = React.memo(props => {\n  let postsElements = [...props.posts].reverse().map(p => (\n    <Post id={p.id} message={p.message} key={p.id} likesCount={p.likesCount}/>))\n  let onAddNewPost = (values) => {\n    props.addPost(values.newPostText);\n  }\n  return (\n    <div className={s.posts}>\n      <h2>My posts </h2>\n      <div className={s.createPost}>\n        <AddNewPostFormRedux onSubmit={onAddNewPost}/>\n      </div>\n      {postsElements}\n    </div>\n  )\n});\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field className={s.descriptionPost}\n               placeholder=\"Enter your post text\"\n               name={\"newPostText\"}\n               component={Textarea}\n               validate={[required, maxLength10]}\n        />\n      </div>\n      <div>\n        <button className={s.addPost}>Add post</button>\n      </div>\n    </form>\n  )\n}\n\nconst AddNewPostFormRedux = reduxForm({\n  form: 'postAddForm'\n})(AddNewPostForm)\n\nexport default MyPosts;\n","import React from \"react\";\nimport {addPostActionCreator} from \"../../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    },\n  }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./My posts/MyPostsContainer\";\r\nimport React from \"react\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer/>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push(\"login\");\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.status !== this.props.status) {\r\n      this.setState({\r\n        status: this.props.status\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}
{"version":3,"sources":["redux/dialogs-reducer.js","utils/helpers/object-helpers.js","redux/users-reducer.js","components/Footer/Footer.module.css","components/Aside/Aside.module.css","api/api.js","reportWebVitals.js","components/Aside/Aside.jsx","components/Footer/Footer.jsx","components/Content/News/News.jsx","components/Content/Music/Music.jsx","components/Content/Settings/Settings.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","assets/icons/spinner-3.gif","components/common/preloader/Preloader.js","components/common/formsControls/FormControls.module.css","components/common/formsControls/FormControls.js","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageText","type","dialogsReducer","state","action","text","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsers","page","dispatch","a","usersAPI","data","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","followed","filter","module","exports","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","getUserProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Aside","props","className","s","aside","itemList","item","active","to","activeClassName","activeLink","Footer","footer","News","Music","Settings","Header","header","src","loginBlock","isAuth","onClick","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","this","React","Component","connect","auth","maxLength50","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","styles","formSummaryError","length","stopSubmit","_error","formData","INITIALAZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","path","render","fallback","Preloader","AppContainer","withRouter","promise","Promise","all","SamuraiJsApp","basename","process","ReactDOM","document","getElementById","preloader","FormControl","input","meta","hasError","touched","formControl","children","Textarea","restProps","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","setUserProfile","setStatus","addPostActionCreator","newPostText","p","postId"],"mappings":"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","file":"static/js/main.d3606c4e.chunk.js","sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {id: 1, name: 'User 1'},\r\n    {id: 2, name: 'User 2'},\r\n    {id: 3, name: 'User 3'},\r\n    {id: 4, name: 'User 4'},\r\n    {id: 5, name: 'User 5'},\r\n    {id: 6, name: 'User 6'},\r\n  ],\r\n  messages: [\r\n    {id: 1, message: 'Hi'},\r\n    {id: 2, message: 'How are you?'},\r\n    {id: 3, message: 'Yo'},\r\n    {id: 4, message: 'Hi'},\r\n    {id: 5, message: 'How are you?'},\r\n    {id: 6, message: 'Yo'},\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let text = action.newMessageText\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 7, message: text}],\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageText) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageText\r\n})\r\n\r\nexport default dialogsReducer;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n  })\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/helpers/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 15,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      }\r\n    case SET_USERS:\r\n      return {\r\n        ...state, users: action.users\r\n      }\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state, currentPage: action.currentPage\r\n      }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state, totalUsersCount: action.count\r\n      }\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state, isFetching: action.isFetching\r\n      }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id != action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n})\r\n\r\n// thunk\r\nexport const getUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n  let data = await usersAPI.getUsers(page, pageSize)\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setUsersTotalCount(data.totalCount));\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n}\r\n\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__136Wu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__aDLoG\",\"itemList\":\"Aside_itemList__aAsm2\",\"item\":\"Aside_item__2TV9B\",\"activeLink\":\"Aside_activeLink__2b0J8\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"b4504d53-a904-47b8-aa6a-132143962710\",\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n  getUserProfile(userId) {\r\n    // console.warn('Obsolete method. Please use profileAPI object.')\r\n    return profileAPI.getUserProfile(userId);\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {status: status}); //TODO: Возможно ошибка здесь\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import s from './Aside.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nconst Aside = (props) => {\r\n  return (\r\n    <aside className={s.aside}>\r\n      <ul className={s.itemList}>\r\n        <li className={`${s.item} ${s.active}`}>\r\n          <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Dialogs</NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n        </li>\r\n      </ul>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Aside;\r\n","import s from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className={s.footer}>\r\n\t\t\t<p>Footer</p>\r\n\t\t</footer>\r\n\t);\r\n};\r\nexport default Footer;\r\n","import s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import s from './Music.module.css'\r\n\r\nconst Music = (props) => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music;","import s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://cdn.logo.com/hotlink-ok/logo-social.png\"/>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth\r\n          ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\r\n          : <NavLink to={'/login'}><button>Login</button></NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n  ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n  })\r\n\r\n// async await\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    let {id, email, login} = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\n//* thunkCreator // thunk\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n    dispatch(stopSubmit(\"login\", {_error: message}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n","import Header from \"./Header\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n  render() {\r\n    return <Header {...this.props}/>\r\n  }\r\n};\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react';\r\nimport s from './Login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/formsControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../common/formsControls/FormControls.module.css\"\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field placeholder={\"Email\"} name={\"email\"} component={Input}\r\n               validate={[required, maxLength50]}/>\r\n      </div>\r\n      <div>\r\n        <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input}\r\n               validate={[required, maxLength50]}/>\r\n      </div>\r\n      <div>\r\n        <Field name={\"rememberMe\"} type=\"checkbox\" component={Input}/>remember me\r\n      </div>\r\n      {props.error &&\r\n      <div className={styles.formSummaryError}>\r\n        {props.error}\r\n      </div>\r\n      }\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"}/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  }\r\n)\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALAZED_SUCCESS = 'INITIALAZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALAZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setInitializedSuccess = () => ({type: INITIALAZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(setInitializedSuccess());\r\n  })\r\n}\r\n\r\nexport default appReducer;\r\n","const initialState = {}\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default sidebarReducer;\r\n","import {createStore, combineReducers, applyMiddleware, compose,} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\n//* Redux DevTools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import './App.css';\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\"\nimport Aside from './components/Aside/Aside';\nimport Footer from './components/Footer/Footer';\nimport News from \"./components/Content/News/News\";\nimport Music from \"./components/Content/Music/Music\";\nimport Settings from \"./components/Content/Settings/Settings\";\n\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport React, {Component, Suspense} from \"react\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\n\n// import DialogsContainer from \"./components/Content/Dialogs/DialogsContainer\";\nconst DialogsContainer = React.lazy(() => import('./components/Content/Dialogs/DialogsContainer'));\n// import ProfileContainer from \"./components/Content/Profile/ProfileContainer\";\nconst ProfileContainer = React.lazy(() => import('./components/Content/Profile/ProfileContainer'));\n// import UsersContainer from \"./components/Content/Users/UsersContainer\";\nconst UsersContainer = React.lazy(() => import('./components/Content/Users/UsersContainer'));\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <Aside/>\n        <div className=\"content\">\n          <Route path=\"/profile/:userId?\" render={() =>\n            <Suspense fallback={<div><Preloader/> Loading...</div>}>\n              <ProfileContainer/>\n            </Suspense>\n          }/>\n          <Route path=\"/dialogs\" render={() =>\n            <Suspense fallback={<div><Preloader/> Loading...</div>}>\n              <DialogsContainer/>\n            </Suspense>\n          }/>\n          <Route path=\"/users\" render={() =>\n            <Suspense fallback={<div><Preloader/> Loading...</div>}>\n              <UsersContainer/>\n            </Suspense>\n          }/>\n          <Route path=\"/news\" render={() => <News/>}/>\n          <Route path=\"/music\" render={() => <Music/>}/>\n          <Route path=\"/settings\" render={() => <Settings/>}/>\n          <Route path=\"/login\" render={() => <LoginPage/>}/>\n        </div>\n        <Footer/>\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJsApp = () => {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer/>\n      </Provider>\n    </BrowserRouter>\n  )\n}\n\nexport default SamuraiJsApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from \"./reportWebVitals\";\nimport SamuraiJsApp from \"./App\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  // </React.StrictMode>,\n  <SamuraiJsApp />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/spinner-3.a1a99674.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/icons/spinner-3.gif\"\r\n\r\nlet Preloader = (props) => {\r\n  return <div>\r\n    <img src={preloader}/>\r\n  </div>\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1ghaT\",\"error\":\"FormControls_error__3Vzar\",\"formSummaryError\":\"FormControls_formSummaryError__242gz\"};","import styles from \"./FormControls.module.css\"\r\nimport React from \"react\";\r\n\r\nexport const FormControl = ({input, meta, ...props}) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error: \"\")}>\r\n      <div>\r\n        {props.children}\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, children, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, children, ...restProps} = props;\r\n  return (\r\n    <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n  )\r\n}\r\n\r\n// export const createField = (placeholder, name, validators, component, type) => {\r\n//   <div>\r\n//     <Field placeholder={placeholder} name={name} component={validators} validate={component} type={type}/>\r\n//   </div>\r\n// }\r\n","export const required = value => {\r\n  if (value) {\r\n    return undefined;\r\n  }\r\n  return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} symbols`;\r\n  }\r\n  return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1bQBl\",\"loginBlock\":\"Header_loginBlock__3nxGh\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n    {id: 2, message: 'Its my first post', likesCount: 22},\r\n    {id: 3, message: 'Hello', likesCount: 25},\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 4, message: action.newPostText, likesCount: 0}],\r\n      }\r\n    }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state, profile: action.profile,\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state, status: action.status,\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state, posts: state.posts.filter(p => p.id != action.postId),\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(response.data));\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}